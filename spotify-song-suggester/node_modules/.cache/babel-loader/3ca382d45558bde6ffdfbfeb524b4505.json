{"ast":null,"code":"var _jsxFileName = \"/home/x-max/Documents/Lambda/Build/front-end/spotify-song-suggester/src/components/SignUp.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\nexport default function SignUp() {\n  //set state for new member signing up\n  const [newMember, setNewMember] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [member, setMember] = useState([]); // state for whether our button should be disabled or not.\n\n  const [buttonDisabled, setButtonDisabled] = useState(true); // state for our errors\n\n  const [errors, setErrors] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\"\n  }); // handle form submission\n\n  const formSubmit = e => {\n    e.preventDefault();\n    axios.post(\"https://reqres.in/api/member\", newMember).then(res => {\n      console.log(\"New member\", res.data); // update state with value from API\n\n      setMember([...member, res.data]);\n      console.log(\"member\", member);\n      setNewMember({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\"\n      });\n    }).catch(err => {\n      setErrors(\"There was an error retreiving data\");\n      console.log(err);\n    });\n  }; //validation schema\n\n\n  const formSchema = yup.object().shape({\n    firstName: yup.string().required(\"First name is required\").min(2, \"Name must be at least 2 characters.\"),\n    lastName: yup.string().required(\"Last name is required\").min(2, \"Name must be at least 2 characters.\"),\n    email: yup.string().email(\"Must be a valid email address.\").required(\"Must include email address.\"),\n    password: yup.string().required(\"Please create a password\").min(8, \"Password must be at least 8 characters.\")\n  }); //Activate that button if everything is ok!\n\n  useEffect(() => {\n    formSchema.isValid(newMember).then(isValid => {\n      setButtonDisabled(!isValid);\n    });\n  }, [newMember]); //validate the changes\n\n  const validateChange = e => {\n    yup.reach(formSchema, e.target.name).validate(e.target.value).then(valid => {\n      setErrors({ ...errors,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      setErrors({ ...errors,\n        [e.target.name]: err.errors[0]\n      });\n    });\n  }; // handle changes\n\n\n  const inputChange = e => {\n    e.persist();\n    console.log(\"input changed\", e.target.value);\n    const newMemberData = { ...newMember,\n      [e.target.name]: e.target.value\n    };\n    validateChange(e);\n    setNewMember(newMemberData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, \"First Name:\", /*#__PURE__*/React.createElement(\"input\", {\n    // data-cy=\"firstName\"\n    type: \"text\",\n    name: \"firstName\",\n    placeholder: \"First Name\",\n    value: newMember.firstName,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), errors.firstName.length > 0 ? /*#__PURE__*/React.createElement(\"label\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, errors.firstName) : null), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, \"Last Name:\", /*#__PURE__*/React.createElement(\"input\", {\n    // data-cy=\"lastName\"\n    type: \"text\",\n    name: \"lastName\",\n    placeholder: \"Last Name\",\n    value: newMember.lastName,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), errors.lastName.length > 0 ? /*#__PURE__*/React.createElement(\"label\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, errors.lastName) : null), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"Email:\", /*#__PURE__*/React.createElement(\"input\", {\n    // data-cy=\"email\"\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"email\",\n    value: newMember.email,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), errors.email.length > 0 ? /*#__PURE__*/React.createElement(\"label\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, errors.email) : null), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, \"Password:\", /*#__PURE__*/React.createElement(\"input\", {\n    // data-cy=\"password\"\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: newMember.password,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }), errors.password.length > 0 ? /*#__PURE__*/React.createElement(\"label\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, errors.password) : null), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-cy\": \"submit\",\n    disabled: buttonDisabled,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}","map":{"version":3,"sources":["/home/x-max/Documents/Lambda/Build/front-end/spotify-song-suggester/src/components/SignUp.js"],"names":["React","useState","useEffect","axios","yup","SignUp","newMember","setNewMember","firstName","lastName","email","password","member","setMember","buttonDisabled","setButtonDisabled","errors","setErrors","formSubmit","e","preventDefault","post","then","res","console","log","data","catch","err","formSchema","object","shape","string","required","min","isValid","validateChange","reach","target","name","validate","value","valid","inputChange","persist","newMemberData","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport * as yup from \"yup\";\n\nexport default function SignUp() {\n  //set state for new member signing up\n  const [newMember, setNewMember] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const [member, setMember] = useState([]);\n\n  // state for whether our button should be disabled or not.\n  const [buttonDisabled, setButtonDisabled] = useState(true);\n\n  // state for our errors\n  const [errors, setErrors] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  // handle form submission\n  const formSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"https://reqres.in/api/member\", newMember)\n      .then((res) => {\n        console.log(\"New member\", res.data);\n        // update state with value from API\n        setMember([...member, res.data]);\n        console.log(\"member\", member);\n        setNewMember({\n          firstName: \"\",\n          lastName: \"\",\n          email: \"\",\n          password: \"\",\n        });\n      })\n      .catch((err) => {\n        setErrors(\"There was an error retreiving data\");\n        console.log(err);\n      });\n  };\n\n  //validation schema\n  const formSchema = yup.object().shape({\n    firstName: yup\n      .string()\n      .required(\"First name is required\")\n      .min(2, \"Name must be at least 2 characters.\"),\n    lastName: yup\n      .string()\n      .required(\"Last name is required\")\n      .min(2, \"Name must be at least 2 characters.\"),\n    email: yup\n      .string()\n      .email(\"Must be a valid email address.\")\n      .required(\"Must include email address.\"),\n    password: yup\n      .string()\n      .required(\"Please create a password\")\n      .min(8, \"Password must be at least 8 characters.\"),\n  });\n\n  //Activate that button if everything is ok!\n  useEffect(() => {\n    formSchema.isValid(newMember).then((isValid) => {\n      setButtonDisabled(!isValid);\n    });\n  }, [newMember]);\n\n  //validate the changes\n  const validateChange = (e) => {\n    yup\n      .reach(formSchema, e.target.name)\n      .validate(e.target.value)\n      .then((valid) => {\n        setErrors({\n          ...errors,\n          [e.target.name]: \"\",\n        });\n      })\n      .catch((err) => {\n        setErrors({\n          ...errors,\n          [e.target.name]: err.errors[0],\n        });\n      });\n  };\n\n  // handle changes\n  const inputChange = (e) => {\n    e.persist();\n    console.log(\"input changed\", e.target.value);\n    const newMemberData = {\n      ...newMember,\n      [e.target.name]: e.target.value,\n    };\n    validateChange(e);\n    setNewMember(newMemberData);\n  };\n\n  return (\n    <div className=\"signup\">\n      <h1>Sign Up</h1>\n      <form onSubmit={formSubmit}>\n        <label htmlFor=\"firstName\">\n          First Name:\n          <input\n            // data-cy=\"firstName\"\n            type=\"text\"\n            name=\"firstName\"\n            placeholder=\"First Name\"\n            value={newMember.firstName}\n            onChange={inputChange}\n          />\n          {errors.firstName.length > 0 ? (\n            <label className=\"error\">{errors.firstName}</label>\n          ) : null}\n        </label>\n        <label htmlFor=\"lastName\">\n          Last Name:\n          <input\n            // data-cy=\"lastName\"\n            type=\"text\"\n            name=\"lastName\"\n            placeholder=\"Last Name\"\n            value={newMember.lastName}\n            onChange={inputChange}\n          />\n          {errors.lastName.length > 0 ? (\n            <label className=\"error\">{errors.lastName}</label>\n          ) : null}\n        </label>\n        <label htmlFor=\"email\">\n          Email:\n          <input\n            // data-cy=\"email\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"email\"\n            value={newMember.email}\n            onChange={inputChange}\n          />\n          {errors.email.length > 0 ? (\n            <label className=\"error\">{errors.email}</label>\n          ) : null}\n        </label>\n        <label htmlFor=\"password\">\n          Password:\n          <input\n            // data-cy=\"password\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={newMember.password}\n            onChange={inputChange}\n          />\n          {errors.password.length > 0 ? (\n            <label className=\"error\">{errors.password}</label>\n          ) : null}\n        </label>\n        <button data-cy=\"submit\" disabled={buttonDisabled} type=\"submit\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}